<!doctype html>
<html lang="en">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
    <meta charset="utf-8">

<title>RECAP</title>

<meta name="description" content="">
<meta name="author" content="">
<meta name="generator" content="reveal-ck 3.9.2">



<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/black.css" id="theme">

<!-- Code syntax highlighting -->
<link rel="stylesheet" href="lib/css/zenburn.css">

<link rel="stylesheet" href="css/reveal-ck.css">


<!-- Printing and PDF exports -->
<script>
  var link = document.createElement( 'link' );
  link.rel = 'stylesheet';
  link.type = 'text/css';
  link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
  document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>

<!--[if lt IE 9]>
<script src="lib/js/html5shiv.js"></script>
<![endif]-->

  </head>

  <body>
    <p><img src="images/site-qr.png" style="position:absolute; top:0px; right:0px; width:10%" ></p>
    <div class="reveal">
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section id="1" data-background="images/banner.png">
      <h1>Recap</h1>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <p>2021.5.21</p>

    </section>
    <section id="2">
      <h6>自己紹介</h6>
      <p><img src="images/profile.jpg" style="float:left" width="40%"></p>
      <div style="margin: 20px 0px auto">
      <ul>
        <div style="font-size:16px; margin:auto">
        <li style="margin: 10px 0px 10px">名前：川畑 光平</li>
        <li style="margin: 10px 0px 10px">所属：デジタル技術部 アジャイルプロフェッショナルG</li>
        <li style="margin: 10px 0px 10px">今の仕事
          <ul>
            <li style="margin: 10px 0px 10px"><span style="font-size:16px">(主にクラウド系)プロジェクト支援・R&D</span></li>
            <li style="margin: 10px 0px 10px"><span style="font-size:16px">AWS社内推進・人材育成</span></li>
          </ul>
        </li>
        <li style="margin: 10px 0px 10px"><a href="https://aws.amazon.com/jp/partners/ambassadors/?cards-body.sort-by=item.additionalFields.ambassadorName&cards-body.sort-order=asc&cards-body.q=kawabata&cards-body.q_operator=AND" target="_blank">APN AWS Top Engineers &amp; Ambassadors Since 2019</a></li>
        <li style="margin: 10px 0px 10px">マイナビ「ITSearch+」で記事連載中
          <ul>
            <li style="margin: 10px 0px 10px">
              <span style="font-size:16px"><a href="https://news.mynavi.jp/itsearch/series/devsoft/AWS.html" target="_blank">AWSで作るクラウドネイティブアプリケーションの基本</a></span>
            </li>
            <li style="margin: 10px 0px 10px">
              <span style="font-size:16px"><a href="https://news.mynavi.jp/itsearch/series/devsoft/aws_adv.html" target="_blank">AWSで作るクラウドネイティブアプリケーションの応用</a></span>
            </li>
            <li style="margin: 10px 0px 10px">
              <span style="font-size:16px"><a href="https://news.mynavi.jp/itsearch/series/devsoft/AWSAuto.html" target="_blank">AWSで実践! 基盤構築・デプロイ自動化</a></span>
            </li>
            <li style="margin: 10px 0px 10px">
              <span style="font-size:16px"><a href="https://news.mynavi.jp/itsearch/series/devsoft/aws_2.html" target="_blank">AWSで作るマイクロサービス</a></span>
            </li>
          </ul>
        </li>
        <li style="margin: 10px 0px 10px">技統本塾「クラウドネイティブ・マイクロサービス」開講中</li>
        <li style="margin: 10px 0px 10px">※聴講・見学随時OKです。連絡ください。</li>
        </div>
      </ul>
    </section>
    <section id="3">
      <h6>このスライドの使い方</h6>
      <img src="images/how-to-use-slide.png" style="width: 80%" alt="image"><br/>
      <span style="font-size:20px">
      ※当スライドは <a href="https://github.com/hakimel/reveal.js" target="_blank">「reveal.js」</a> を使って、GitHub Pages上に作成
      </span>
    </section>
    <section id="4" data-background="images/session.png" style="background-color:rgba(0,0,0,0.05);">
        <h6><a href="https://summits-japan.virtual.awsevents.com/media/t/1_by1z73wg/207422693" target="_blank">今日振り返るセッション</a></h6>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
    </section>
    <section id="5">
      <section id="5-1">
      <img src="images/session-1.png" style="border:0" alt="image"><br/>
      </section>
      <section id="5-2">
        <img src="images/session-1-1.png" width="100%" style="border:0" alt="image">
      </section>
      <section id="5-3">
        <img src="images/session-1-2.png" width="100%" style="border:0" alt="image">
      </section>
      <section id="5-4">
        <img src="images/session-1-3.png" width="100%" style="border:0" alt="image">
      </section>
      <section id="5-5">
        <p><span style="font-size:32px">本当に使えるの？</span></p>
        <img src="images/session-1-4.png" width="50%" style="border:0" alt="image">
      </section>
      <section id="5-7">
        <p><span style="font-size:32px">Spring使ったアプリケーションで試してみた</span></p>
        <img src="images/session-1-6.png" width="100%" style="border:0" alt="image">
      </section>
      <section id="5-6">
        <p><span style="font-size:32px">Spring使ったアプリケーションで試してみた</span></p>
        <img src="images/session-1-5.png" width="80%" style="border:0" alt="image">
      </section>
      <section id="5-8">
        <img src="images/session-1-7.png" width="80%" style="border:0" alt="image">
      </section>
      <section id="5-9">
        <p><span style="font-size:32px">実行結果</span></p>
        <img src="images/session-1-8.png" width="100%" style="border:0" alt="image">
      </section>
      <section id="5-10">
        <p><span style="font-size:32px">GitHubの該当ソースコードにも結果コメント</span></p>
        <img src="images/session-1-9.png" width="100%" style="border:0" alt="image">
      </section>
      <section id="5-11">
        <p><span style="font-size:32px">単なる静的チェックじゃ出てこない例1</span></p>
        <div style="display:flex;display:-webkit-flex;display:-moz-flex;">
        <pre style="font-size:12px; margin: 0;line-height:1.5em; width:450px">
          <code data-trim class="hljs java" data-noescape>
            @Profile("production")
            @Configuration
            public class OperationProductionConfig {

                @Value("${cloud.aws.credentials.accessKey}")
                private String accessKey;

                @Value("${cloud.aws.credentials.secretKey}")
                private String secretKey;

                @Value("${cloud.aws.region.static}")
                private String region;

                @Bean
                public BasicAWSCredentials basicAWSCredentials() {
                    <mark>return new BasicAWSCredentials(accessKey, secretKey);</mark>
                }

                @Bean
                public AmazonS3 amazonS3Client(AWSCredentials awsCredentials) {
                    return AmazonS3ClientBuilder.standard().withRegion(Regions.fromName(region)).build();
                }
          </code>
        </pre>
        <div style="width:auto; -webkit-flex : 1 0 400px;-moz-flex : 1 0 400px;flex : 1 0 400px;">
          <pre style="font-size:14px; margin:20px 20px 0; line-height:1.5em;">
If possible, use temporary security credentials (IAM roles)
instead of long-term access keys. Long-term access keys,
such as those associated with IAM users and AWS account root users,
remain valid until you manually revoke them.
However, temporary security credentials obtained through IAM roles
and other features of the AWS Security Token Service expire
after a short period of time.

Use temporary security credentials to help reduce your risk in case
credentials are accidentally exposed. Learn more about
<a href="https://docs.spring.io/spring-security/site/docs/5.4.2/reference/html5/#oauth2" target="_blank">best practices for managing AWS access keys.</a></pre>
        </div>
        </div>
      </section>
      <section id="5-12">
        <p><span style="font-size:32px">単なる静的チェックじゃ出てこない例2</span></p>
        <div style="display:flex;display:-webkit-flex;display:-moz-flex;">
        <pre style="font-size:12px; margin: 0;line-height:1.5em; width:450px">
          <code data-trim class="hljs java" data-noescape>
            ObjectMetadata metadata = new ObjectMetadata();
        		metadata.setContentLength(0);
        		InputStream emptyContent = new ByteArrayInputStream(new byte[0]);
        		try {
        			resources = Arrays.asList(resourcePatternResolver.getResources(
        					new StringBuilder()
        					.append(s3UploadRootPath)
        					.append(backupDirectory)
        					.append("/**")
        					.toString()));
        			if(resources.size() == 0){
        				<mark>PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName,
        						new StringBuilder().append(backupDirectory).append("/").toString(),</mark>
        						emptyContent, metadata);
        				amazonS3.putObject(putObjectRequest);
        			}
        		} catch (IOException e) {
        			new SystemException("operation.backup.helper.error.0001", backupDirectory, e);
        		} finally{
        			try {
        				emptyContent.close();
        			} catch (IOException e) {
        			new SystemException("operation.backup.helper.error.0002", backupDirectory, e);
        			}
        		}
          </code>
        </pre>
        <div style="width:auto;-webkit-flex : 1 0 400px;-moz-flex : 1 0 400px;flex : 1 0 400px;">
          <pre style="font-size:14px; margin:20px 20px 0; line-height:1.5em;">

Problem: When objects are uploaded to Amazon S3 by using streams
         (either through an AmazonS3 client or TransferManager),
         you might encounter network connectivity or timeout issues.


Fix: The most reliable way to avoid a ResetException is to provide data
     by using a File or FileInputStream, which the AWS SDK for Java can
     handle without being constrained by mark and reset limits.
     If the input stream isn't a FileInputStream but does support
     mark and reset, you can set the mark limit by using the
     setReadLimit method of RequestClientOptions.
     Its default value is 128 KB. Setting the read limit value
     to one byte greater than the size of stream will
     reliably avoid a ResetException.
          </pre>
        </div>
        </div>
      </section>
      <!--
      <section id="5-12">
        <p><span style="font-size:32px">単なる静的チェックじゃ出てこない例3</span></p>
        <div style="display:flex;display:-webkit-flex;display:-moz-flex;">
        <pre style="font-size:12px; margin: 0;line-height:1.5em; width:450px">
          <code data-trim class="hljs java" data-noescape>
            try {
                CloseableHttpResponse response = httpClient.execute(httpGet);
                if(response.getStatusLine().getStatusCode() == HttpStatus.SC_OK){
                    httpEntity = response.getEntity();
                    if(httpEntity != null){
                        InputStream inputStream = httpEntity.getContent();
                        BufferedReader bufferedReader = new BufferedReader(
                            new InputStreamReader(inputStream));
                    String line = null;
                        while((line = bufferedReader.readLine()) != null){
                            stringBuilder.append(line);
                        }
                    }
                }
                ObjectMapper mapper = new ObjectMapper();
                addressJsonResponse =  mapper.readValue(stringBuilder.toString(),
                    AddressJsonResponse.class);
        </code>
        </pre>
        <div style="width:auto;-webkit-flex : 1 0 400px;-moz-flex : 1 0 400px;flex : 1 0 400px;">
          <pre style="font-size:14px; margin:20px 20px 0; line-height:1.5em;">

            Problem: This line of code might contain a resource leak. Resource
                     leaks can cause your system to slow down or crash.


            Fix: Consider closing the following resource: httpClient.
                 Execution paths that do not contain closure statements were detected.
                 Ensure httpClient is closed in a try-finally block or declared
                 in a try-with-resources block.

            More info <a href="https://www.oracle.com/technical-resources/articles/java/trywithresources.html" target="_blank">View resource management guidelines at oracle.com (external link).</a>
          </pre>
        </div>
        </div>
      </section>
    -->
      <section id="5-13">
        <img src="images/session-1-10.png" width="100%" style="border:0" alt="image">
      </section>
    </section>
    <section id="6">
      <h6>ご静聴ありがとうございました <img class="emoji" alt=":bow:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f647.png"></h6>
    </section>
  </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
  (function() {
  function extend( a, b ) {
    for(var i in b) {
      a[i] = b[i];
    }
  }
  var baseOptions = {
    transition: 'page',

    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  };



  var configOptions = {"autoSlide":0,"loop":false,"slideNumber":true,"autoPlayMedia":true}
  var initializeOptions = {};
  extend(initializeOptions, baseOptions);
  extend(initializeOptions, configOptions);
  Reveal.initialize(initializeOptions);
})();

</script>

  </body>
</html>
    </section>
  </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>


<script>
  (function() {
  function extend( a, b ) {
    for(var i in b) {
      a[i] = b[i];
    }
  }
  var baseOptions = {
    transition: 'page',

    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  };



  var configOptions = {"autoSlide":0,"loop":false,"slideNumber":true,"autoPlayMedia":true}
  var initializeOptions = {};
  extend(initializeOptions, baseOptions);
  extend(initializeOptions, configOptions);
  Reveal.initialize(initializeOptions);
})();

</script>

  </body>
</html>
